var c=(n,o,t)=>new Promise((l,i)=>{var _=e=>{try{r(t.next(e))}catch(a){i(a)}},s=e=>{try{r(t.throw(e))}catch(a){i(a)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(_,s);r((t=t.apply(n,o)).next())});function m(n,o="GET",t=!1,l=!1,i=!1,_=!0){try{let s={"Content-Type":"application/json"};i&&(s={}),l&&(s.Authorization=`Bearer ${l}`);let r={method:o,headers:s};return t&&(_?r.body=JSON.stringify(t):r.body=t),fetch(n,r).then(e=>e.ok?e.json():e.json().then(a=>(Promise.reject(a.message),{isFetchOk:!1,status:e.status,message:a.message,payload:a&&a.payload?a.payload:null}))).then(e=>e).catch(e=>(console.error("Error in fetch",e),e))}catch(s){return console.error("Error!: "+s),s}}function p(n=null,o="nammax_auth",t=60*60*24){n&&(document.cookie=`${o}=${n}; path=/; max-age=${t}`)}function A(n="nammax_auth"){let t=`; ${document.cookie}`.split(`; ${n}=`);return t.length===2?t.pop().split(";").shift():null}function u(n="/",o=2e3){setTimeout(()=>{window.location.href=n},o)}var d=Webflow||[];var N="/user/dashboard";var x="https://x8ki-letl-twmt.n7.xano.io/api:jniIGW5W/update_password",E="https://x8ki-letl-twmt.n7.xano.io/api:jniIGW5W/auth/magic-login";function h(n){return c(this,null,function*(){let t=yield m(E,"POST",{magic_token:n});t&&p(t)})}window.onload=function(){var n=new URL(document.location.href),o=n.searchParams.get("token");o&&h(o)};var R=d||[];R.push(function(){$(document).off("submit"),$("form").submit(function(n){return c(this,null,function*(){n.preventDefault();let o=$(this),t=A(),l={password:document.getElementById("password").value,confirm_password:document.getElementById("confirm-password").value},i=yield m(x,"POST",l,t);if(i.isFetchOk!==void 0&&!i.isFetchOk){o.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),console.error(i.message);return}else o.hide().siblings(".w-form-done").show().siblings(".w-form-fail").hide();u(N)})})});
