var l=(e,t,n)=>new Promise((_,s)=>{var c=o=>{try{i(n.next(o))}catch(a){s(a)}},r=o=>{try{i(n.throw(o))}catch(a){s(a)}},i=o=>o.done?_(o.value):Promise.resolve(o.value).then(c,r);i((n=n.apply(e,t)).next())});function m(e,t="GET",n=!1,_=!1,s=!1,c=!0){try{let r={"Content-Type":"application/json"};s&&(r={}),_&&(r.Authorization=`Bearer ${_}`);let i={method:t,headers:r};return n&&(c?i.body=JSON.stringify(n):i.body=n),fetch(e,i).then(o=>o.ok?o.json():o.json().then(a=>(Promise.reject(a.message),{isFetchOk:!1,status:o.status,message:a.message,payload:a&&a.payload?a.payload:null}))).then(o=>o).catch(o=>(console.error("Error in fetch",o),o))}catch(r){return console.error("Error!: "+r),r}}function p(e=null,t="nammax_auth",n=60*60*24){e&&(document.cookie=`${t}=${e}; path=/; max-age=${n}`)}function x(e="/",t=2e3){setTimeout(()=>{window.location.href=e},t)}var u=Webflow||[];var A="/sign-up-2";var d="https://xoxo-jnzf-s0on.m2.xano.io/api:GEC76oIp/auth/signup";var E=[],N=[];function h(e){window.location.href=e.authUrl}function R(){var e=new URL("https://x8ki-letl-twmt.n7.xano.io/api:ocRzyo-e/oauth/google/init");e.searchParams.set("redirect_uri","https://nammacrossfit.com/sign-up-2"),e=e.toString();try{fetch(e,{headers:E,method:"GET"}).then(t=>t.ok?t.json():Promise.reject(t)).then(t=>N=t).then(()=>h(N)).catch(t=>{console.error("Error:",t)})}catch(t){console.error("Error!: "+t)}}var f=document.querySelector("#google-auth-btn");f&&f.addEventListener("click",()=>{R()});var O=u||[];O.push(function(){$(document).off("submit"),$("form").submit(function(e){return l(this,null,function*(){e.preventDefault();let t=document.getElementById("xano-auth");t&&(t.disabled=!0);let n=$(this),_={email:document.getElementById("email").value,password:document.getElementById("password").value,name:(document.getElementById("first_name").value+" "+document.getElementById("last_name").value).trim()},s=yield m(d,"POST",_);if(s.isFetchOk!==void 0&&!s.isFetchOk){console.error(s.message),n.siblings(".w-form-done").hide().siblings(".w-form-fail").show().text("Oops, there was an error signing you up. Please refresh the page and try again."),t&&(t.disabled=!1);return}Object.keys(s).includes("authToken")===!1?(n.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),t&&(t.disabled=!1)):(p(s.authToken),n.hide().siblings(".w-form-done").show().siblings(".w-form-fail").hide(),x(A))})})});
