var l=(n,o,e)=>new Promise((r,c)=>{var s=t=>{try{_(e.next(t))}catch(i){c(i)}},a=t=>{try{_(e.throw(t))}catch(i){c(i)}},_=t=>t.done?r(t.value):Promise.resolve(t.value).then(s,a);_((e=e.apply(n,o)).next())});function m(n,o="GET",e=!1,r=!1,c=!1,s=!0){try{let a={"Content-Type":"application/json"};c&&(a={}),r&&(a.Authorization=`Bearer ${r}`);let _={method:o,headers:a};return e&&(s?_.body=JSON.stringify(e):_.body=e),fetch(n,_).then(t=>t.ok?t.json():t.json().then(i=>(Promise.reject(i.message),{isFetchOk:!1,status:t.status,message:i.message,payload:i&&i.payload?i.payload:null}))).then(t=>t).catch(t=>(console.error("Error in fetch",t),t))}catch(a){return console.error("Error!: "+a),a}}function p(n=null,o="nammax_auth",e=60*60*24){n&&(document.cookie=`${o}=${n}; path=/; max-age=${e}`)}function x(n="/",o=2e3){setTimeout(()=>{window.location.href=n},o)}var A=Webflow||[];var u="/coach/dashboard";var d="https://xoxo-jnzf-s0on.m2.xano.io/api:GEC76oIp/coach_auth/login";var N=A||[];N.push(function(){$(document).off("submit"),$("form").submit(function(n){return l(this,null,function*(){n.preventDefault();let o=document.getElementById("submit"),e;o&&(o.disabled=!0,e=o.value,o.value="Logging In...");let r=$(this),c={email:document.getElementById("email").value,password:document.getElementById("password").value},s=yield m(d,"POST",c);if(s.isFetchOk!==void 0&&!s.isFetchOk){r.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),console.error(s.message),o&&(o.disabled=!1,o.value=e);return}Object.keys(s).includes("authToken")===!1?(r.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),o&&(o.disabled=!1,o.value=e)):(p(s.authToken,"nammax_auth",60*60*24*7),x(u),r.hide().siblings(".w-form-done").show().siblings(".w-form-fail").hide())})})});
