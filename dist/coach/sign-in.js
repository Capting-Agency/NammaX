var l=(n,t,e)=>new Promise((_,s)=>{var c=o=>{try{r(e.next(o))}catch(a){s(a)}},i=o=>{try{r(e.throw(o))}catch(a){s(a)}},r=o=>o.done?_(o.value):Promise.resolve(o.value).then(c,i);r((e=e.apply(n,t)).next())});function m(n,t="GET",e=!1,_=!1,s=!1,c=!0){try{let i={"Content-Type":"application/json"};s&&(i={}),_&&(i.Authorization=`Bearer ${_}`);let r={method:t,headers:i};return e&&(c?r.body=JSON.stringify(e):r.body=e),fetch(n,r).then(o=>o.ok?o.json():o.json().then(a=>(Promise.reject(a.message),{isFetchOk:!1,status:o.status,message:a.message,payload:a&&a.payload?a.payload:null}))).then(o=>o).catch(o=>(console.error("Error in fetch",o),o))}catch(i){return console.error("Error!: "+i),i}}function p(n=null,t="nammax_auth",e=60*60*24){n&&(document.cookie=`${t}=${n}; path=/; max-age=${e}`)}function x(n="/",t=2e3){setTimeout(()=>{window.location.href=n},t)}var A=Webflow||[];var u="/coach/dashboard";var d="https://xoxo-jnzf-s0on.m2.xano.io/api:GEC76oIp/coach_auth/login";var N=A||[];N.push(function(){$(document).off("submit"),$("form").submit(function(n){return l(this,null,function*(){n.preventDefault();let t=document.getElementById("submit");t&&(t.disabled=!0);let e=$(this),_={email:document.getElementById("email").value,password:document.getElementById("password").value},s=yield m(d,"POST",_);if(s.isFetchOk!==void 0&&!s.isFetchOk){e.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),console.error(s.message),t&&(t.disabled=!1);return}Object.keys(s).includes("authToken")===!1?(e.siblings(".w-form-done").hide().siblings(".w-form-fail").show(),t&&(t.disabled=!1)):(p(s.authToken,"nammax_auth",60*60*24*7),x(u),e.hide().siblings(".w-form-done").show().siblings(".w-form-fail").hide())})})});
